<!--pages/index/mysameset.wxml-->
<view class="weui-toptips weui-toptips_warn" wx:if="{{errorShow}}">{{errorMessage}}</view>

  <view class="weui-cells__title">年级设置</view>
  <view class="weui-cells weui-cells_after-title">
    <view class="weui-cell weui-cell_select">
      <view class="weui-cell__hd weui-cell__hd_in-select-after">
        <view class="weui-label">年级选择</view>
      </view>
      <view class="weui-cell__bd">
        <picker bindchange="gradeChange" value="{{gradeIndex}}" range="{{grades}}" range-key="grade_name" disabled="{{grades.length===0}}">
          <view class="weui-select weui-select_in-select-after">{{grades[gradeIndex].grade_name}}</view>
        </picker>
      </view>
    </view>
  </view>

  <view class="weui-cells__title">班级设置</view>
  <view class="weui-cells weui-cells_after-title">
    <view class="weui-cell weui-cell_select">
      <view class="weui-cell__hd weui-cell__hd_in-select-after">
        <view class="weui-label">班级选择</view>
      </view>
      <view class="weui-cell__bd">
        <picker bindchange="classChange" value="{{classIndex}}" range="{{classes}}" range-key="cls_name" disabled="{{classes.length===0}}">
          <view class="weui-select weui-select_in-select-after">{{classes[classIndex].cls_name}}</view>
        </picker>
      </view>
    </view>
  </view>

<form bindsubmit="samesetSubmit" wx:if="{{students.length>0}}">
  <view class="weui-cells__title">班级学生</view>
  <view class="weui-cells weui-cells_after-title">
  <block wx:for="{{students}}" wx:key="uid">
    <view class="weui-cell weui-cell_switch">
      <view class="weui-cell__bd">{{item.title}}</view>
      <view class="weui-cell__ft">
        <switch name="{{item.uid}}" checked="{{item.can_show}}"/>
      </view>
    </view>
  </block>
  </view>
  <view class="x5ui-half-btn">
    <view class="weui-btn-area">
      <button type="primary" form-type="submit">提交同班</button>
    </view>
  </view>
</form>