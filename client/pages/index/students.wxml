<!--pages/index/students.wxml-->
<view class="weui-toptips weui-toptips_warn" wx:if="{{errorShow}}">{{errorMessage}}</view>

<form bindsubmit="findSubmit">
  <view class="weui-cells__title">年级设置</view>
  <view class="weui-cells weui-cells_after-title">
    <view class="weui-cell weui-cell_select">
      <view class="weui-cell__hd weui-cell__hd_in-select-after">
        <view class="weui-label">年级选择</view>
      </view>
      <view class="weui-cell__bd">
        <picker bindchange="gradeChange" name="grade_id" value="{{gradeIndex}}" range="{{grades}}" range-key="grade_name" disabled="{{!grades || grades.length===0}}">
          <view class="weui-select weui-select_in-select-after">{{grades[gradeIndex].grade_name}}</view>
        </picker>
      </view>
    </view>
  </view>

  <view class="weui-cells__title">班级设置</view>
  <view class="weui-cells weui-cells_after-title">
    <view class="weui-cell weui-cell_select">
      <view class="weui-cell__hd weui-cell__hd_in-select-after">
        <view class="weui-label">班级选择</view>
      </view>
      <view class="weui-cell__bd">
        <picker bindchange="classChange" name="cls_id" value="{{classIndex}}" range="{{classes}}" range-key="cls_name" disabled="{{!classes || classes.length===0}}">
          <view class="weui-select weui-select_in-select-after">{{classes[classIndex].cls_name}}</view>
        </picker>
      </view>
    </view>
  </view>

  <view class="weui-cells__title">学生查询</view>
  <view class="weui-cells weui-cells_after-title">
    <view class="weui-cell weui-cell_input weui-cell_vcode">
      <view class="weui-cell__hd">
        <view class="weui-label">学生姓名</view>
      </view>
      <view class="weui-cell__bd">
        <input class="weui-input" placeholder="输入学生姓名" name="stud_name" type="text" maxlength="4" />
      </view>
      <view class="weui-cell__ft">
        <button type="normal" form-type="submit">查询</button>
      </view>
    </view>
  </view>
</form>

<view class="students-images-area" wx:if="{{comeshow}}">
  <image class="students_images" src="/images/index/stud_add.png" bindtap="studaddClick"></image>
  <image class="students_images" src="/images/index/stud_come.png" bindtap="studcomeClick"></image>
  <image class="students_images" src="/images/index/stud_read.png" bindtap="studreadClick"></image>
  <image class="students_images" src="/images/index/stud_repetition.png" bindtap="studrepetClick"></image>
  
  <image class="students_split"></image>
  <image class="students_images" src="/images/index/stud_modi.png" bindtap="studmodiClick"></image>
  <image class="students_images" src="/images/index/stud_auth.png" bindtap="studauthClick"></image>
  <image class="students_images" src="/images/index/stud_move.png" bindtap="studmoveClick"></image>
  <image class="students_images" src="/images/index/stud_jump.png" bindtap="studjumpClick"></image>

  <image class="students_split"></image>
  <image class="students_images" src="/images/index/stud_back.png" bindtap="studbackClick"></image>
  <image class="students_images" src="/images/index/stud_return.png" bindtap="studreturnClick"></image>

  <image class="students_split"></image>
  <image class="students_images" src="/images/index/stud_down.png" bindtap="studdownClick"></image>
  <image class="students_images" src="/images/index/stud_out.png" bindtap="studoutClick"></image>
  <image class="students_images" src="/images/index/stud_leave.png" bindtap="studleaveClick"></image>
  <image class="students_images" src="/images/index/stud_temp.png" bindtap="studtempClick"></image>
  <image class="students_split"></image>
  <image class="students_images_big" src="/images/index/stud_notin.png" bindtap="studnotinClick"></image>
</view>

<form wx:if="{{students.length>0}}">
  <view class="weui-cells__title" wx:if="{{!comeshow}}">学生列表</view>
  <view class="weui-cells weui-cells_after-title">
    <radio-group name="stud_name" bindchange="studentsChange">
      <label class="weui-cell weui-check__label" wx:for="{{students}}" wx:key="uid">
        <radio class="weui-check" value="{{item.uid}}" checked="{{item.checked}}" />
        <view class="weui-cell__bd" data-uid="{{item.uid}}" bindtap="studentClick">
          {{item.cls_name}} - {{item.stud_name}}({{item.stud_sex}})
        </view>
        <view class="weui-cell__ft weui-cell__ft_in-radio">
          <image class="students_images" src="/images/index/{{item.ico_name}}.png" wx:if="{{item.ico_name}}"></image>
          <icon class="weui-icon-checkbox_circle" type="circle" size="23" wx:if="{{!item.checked}}"></icon>
          <icon class="weui-icon-checkbox_success" type="success" size="23" wx:if="{{item.checked}}"></icon>
        </view>
      </label>
    </radio-group>
  </view>
  <view class="weui-cells__tips" wx:if="{{comeshow}}">总人数：{{students.length}}，男生：{{male}}，女生：{{female}}</view>
</form>