<!--pages/index/tchreg.wxml-->

<view class="weui-toptips weui-toptips_warn" wx:if="{{errorShow}}">{{errorMessage}}</view>

<form bindsubmit="findSubmit">
<view class="weui-cells__title">教师查询</view>
<view class="weui-cells weui-cells_after-title">

  <view class="weui-cell weui-cell_input weui-cell_vcode">
    <view class="weui-cell__hd">
      <view class="weui-label">教师姓名</view>
    </view>
    <view class="weui-cell__bd">
      <input class="weui-input" placeholder="请输入老师的姓名" name="name" confirm-type="done" type="text" maxlength="4" data-reg="^[\\u4e00-\\u9fa5]{1,4}$" data-index="0" data-message="教师姓名有误！" bindblur="checkInput"/>
    </view>
    <view class="weui-cell__ft" wx:if="{{errorArray[0]}}" style="margin-right:10rpx;">
      <icon type="warn" size="23" color="#E64340"></icon>
    </view>
    <view class="weui-cell__ft">
      <button class="weui-btn" type="primary" form-type="submit">查询</button>
    </view>
  </view>
</view>

<view wx:if="{{0}}">
  <view class="weui-cells__title">教师选择</view>
  <view class="weui-cells weui-cells_after-title">
    <radio-group bindchange="radioChange">
      <label class="weui-cell weui-check__label" wx:for="{{radioItems}}" wx:key="value">
        <radio class="weui-check" value="{{item.value}}" checked="{{item.checked}}"/>

        <view class="weui-cell__bd">{{item.name}}</view>
        <view class="weui-cell__ft weui-cell__ft_in-radio" wx:if="{{item.checked}}">
          <icon class="weui-icon-radio" type="success_no_circle" size="16"></icon>
        </view>
      </label>
    </radio-group>
  </view>
</view>

<picker bindchange="bindPickerChange" value="{{index}}" range="{{array}}">
  <view class="weui-btn-area">
    <button type="default" bindtap="open">学校选择</button>
  </view>
</picker>
</form>
