<!--pages/index/userview.wxml-->
<view class="weui-toptips weui-toptips_warn" wx:if="{{errorShow}}">{{errorMessage}}</view>

<form bindsubmit="findSubmit">
	<view class="weui-cells__title">教师查询</view>
	<view class="weui-cells weui-cells_after-title">
		<view class="weui-cell weui-cell_input weui-cell_vcode">
			<view class="weui-cell__hd">
				<view class="weui-label">教师姓名</view>
			</view>
			<view class="weui-cell__bd">
				<input class="weui-input" placeholder="请输入教师姓名" name="name" type="text" maxlength="4" />
			</view>
			<view class="weui-cell__ft">
				<button type="normal" form-type="submit">查询</button>
			</view>
		</view>
	</view>
</form>

<view wx:if="{{users.length>0}}">
	<view class="weui-cells__title">教师选择</view>
	<view class="weui-cells weui-cells_after-title">
		<radio-group name="user_uid" bindchange="userChange">
			<label class="weui-cell weui-check__label" wx:for="{{users}}" wx:key="uid">
				<radio class="weui-check" value="{{item.uid}}" checked="{{item.selected}}" />
				<view class="weui-cell__bd">{{item.user_name}}({{item.nick_name}})</view>
				<view class="weui-cell__ft weui-cell__ft_in-radio">
					<icon class="weui-icon-checkbox_circle" type="circle" size="23" wx:if="{{!item.selected}}"></icon>
					<icon class="weui-icon-checkbox_success" type="success" size="23" wx:if="{{item.selected}}"></icon>
				</view>
			</label>
		</radio-group>
	</view>
</view>
<form bindsubmit="userviewSubmit" wx:if="{{groups.length>0}}">
	<view class="weui-cells__title">分组设置</view>
	<view class="weui-cells weui-cells_after-title">
		<block wx:for="{{groups}}" wx:key="uid">
			<view class="weui-cell weui-cell_switch">
				<view class="weui-cell__bd">{{item.name}}</view>
				<view class="weui-cell__ft">
					<switch name="{{item.uid}}" checked="{{item.has_role}}" />
				</view>
			</view>
		</block>
	</view>
	<view class="weui-cells__tips x5ui-mini">
		<button type="warn" size="mini" form-type="submit">提交</button>
	</view>
</form>

<view class="weui-btn-area">
	<button type="primary" bindtap="returnClick">返回</button>
</view>